{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nconst initialState = {\n  loading: false,\n  isLoggedIn: !!localStorage.getItem(\"token\"),\n  user: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\"\n  },\n  // result: {\n  //   id: \"\",\n  //   name: \"\",\n  //   email: \"\",\n  //   token: \"\",\n  //   role: \"\",\n  // },\n  results: [],\n  users: [],\n  error: \"\"\n};\n\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.USER_SIGNUP_REQUEST:\n    case actionTypes.USER_RELOAD_REQUEST:\n    case actionTypes.USER_LOGIN_REQUEST:\n    case actionTypes.GET_USER_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.USER_SIGNUP_SUCCESS:\n    case actionTypes.USER_LOGIN_SUCCESS:\n    case actionTypes.GET_USER_SUCCESS:\n      {\n        const token = action.payload.data.tokens.access.token;\n        const user = action.payload.data.user; // const result = action.payload.data.user.result;\n\n        return { ...state,\n          loading: false,\n          isLoggedIn: !!localStorage.getItem(\"token\"),\n          user: {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            role: user.role,\n            token\n          } // result: {\n          //   id: result.id,\n          //   name: result.name,\n          //   email: result.email,\n          //   role: result.role,\n          // },\n\n        };\n      }\n\n    case actionTypes.USER_RELOAD_SUCCESS:\n      {\n        const token = localStorage.getItem(\"token\");\n        const user = action.payload; // const result = action.payload;\n\n        return { ...state,\n          loading: false,\n          isLoggedIn: !!localStorage.getItem(\"token\"),\n          user: {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            role: user.role,\n            token\n          } // result: {\n          //   id: result.id,\n          //   name: result.name,\n          //   email: result.email,\n          //   role: result.role,\n          // },\n\n        };\n      }\n\n    case actionTypes.USER_SIGNUP_FAILURE:\n    case actionTypes.USER_RELOAD_FAILURE:\n    case actionTypes.USER_LOGIN_FAILURE:\n    case actionTypes.GET_USER_FAILURE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case actionTypes.USER_LOGOUT:\n      {\n        return { ...initialState,\n          isLoggedIn: false\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"sources":["/home/tops/Reactjs Project/react-redux-sagas-boilerplate/src/reducers/authReducer.js"],"names":["actionTypes","initialState","loading","isLoggedIn","localStorage","getItem","user","id","name","email","token","role","results","users","error","authReducer","state","action","type","USER_SIGNUP_REQUEST","USER_RELOAD_REQUEST","USER_LOGIN_REQUEST","GET_USER_REQUEST","USER_SIGNUP_SUCCESS","USER_LOGIN_SUCCESS","GET_USER_SUCCESS","payload","data","tokens","access","USER_RELOAD_SUCCESS","USER_SIGNUP_FAILURE","USER_RELOAD_FAILURE","USER_LOGIN_FAILURE","GET_USER_FAILURE","USER_LOGOUT"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\n\nconst initialState = {\n  loading: false,\n  isLoggedIn: !!localStorage.getItem(\"token\"),\n  user: {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    token: \"\",\n    role: \"\",\n  },\n  // result: {\n  //   id: \"\",\n  //   name: \"\",\n  //   email: \"\",\n  //   token: \"\",\n  //   role: \"\",\n  // },\n  results: [],\n  users: [],\n  error: \"\",\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.USER_SIGNUP_REQUEST:\n    case actionTypes.USER_RELOAD_REQUEST:\n    case actionTypes.USER_LOGIN_REQUEST:\n    case actionTypes.GET_USER_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actionTypes.USER_SIGNUP_SUCCESS:\n    case actionTypes.USER_LOGIN_SUCCESS:\n      case actionTypes.GET_USER_SUCCESS:\n    {\n      const token = action.payload.data.tokens.access.token;\n      const user = action.payload.data.user;\n      // const result = action.payload.data.user.result;\n      return {\n        ...state,\n        loading: false,\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n        user: {\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          token,\n        },\n        // result: {\n        //   id: result.id,\n        //   name: result.name,\n        //   email: result.email,\n        //   role: result.role,\n        \n        // },\n      };\n    }\n    case actionTypes.USER_RELOAD_SUCCESS: {\n      const token = localStorage.getItem(\"token\");\n      const user = action.payload;\n      // const result = action.payload;\n      return {\n        ...state,\n        loading: false,\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n        user: {\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          token,\n        },\n        // result: {\n        //   id: result.id,\n        //   name: result.name,\n        //   email: result.email,\n        //   role: result.role,\n          \n        // },\n      };\n    }\n    case actionTypes.USER_SIGNUP_FAILURE:\n    case actionTypes.USER_RELOAD_FAILURE:\n    case actionTypes.USER_LOGIN_FAILURE:\n      case actionTypes.GET_USER_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    case actionTypes.USER_LOGOUT: {\n      return { ...initialState, isLoggedIn: false };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;"]},"metadata":{},"sourceType":"module"}